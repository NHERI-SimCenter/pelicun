

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Version 3.4.0 (November 27, 2024) &mdash; pelicun  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=f9bf6728" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="../_static/hide_empty_pre.js?v=a807066b"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Version 3.3.0 (March 29, 2024)" href="v3.3.0.html" />
    <link rel="prev" title="Unreleased" href="unreleased.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >

          
          
          <a href="../index.html">
            
              <img src="../_static/pelicun-Logo-grey.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about/license.html">1. Copyright and license</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/cite.html">2. Citing pelicun</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/cite.html#logo">3. Logo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/acknowledgments.html">4. Acknowledgments</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about/acknowledgments.html#national-science-foundation">4.1. National Science Foundation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/acknowledgments.html#contributors">4.2. Contributors</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">5. Release Notes</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#version-3-0">5.1. Version 3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#version-2-0">5.2. Version 2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#version-1-0">5.3. Version 1.0</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/install.html">1. Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/install.html#staying-up-to-date">1.1. Staying up to date</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/pelicun_framework.html">2. The Pelicun Framework</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/pelicun_framework.html#abbreviations">2.1. Abbreviations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/pelicun_framework.html#introduction-to-pelicun">2.2. Introduction to Pelicun</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/pelicun_framework.html#overview">2.3. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/pelicun_framework.html#performance-assessment-workflow">2.4. Performance Assessment Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/pelicun_framework.html#response-model">2.5. Response Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/pelicun_framework.html#performance-model">2.6. Performance Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/pelicun_framework.html#damage-model">2.7. Damage Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/pelicun_framework.html#loss-model">2.8. Loss Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/feature_overview.html">3. Overview of pelicun features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/feature_overview.html#saving-loading-samples">3.1. Saving/loading samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/feature_overview.html#logging-support">3.2. Logging support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/feature_overview.html#uncertainty-quantification">3.3. Uncertainty quantification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/feature_overview.html#assessment-types">3.4. Assessment types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/feature_overview.html#demand-simulation">3.5. Demand simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/feature_overview.html#damage-estimation">3.6. Damage estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/feature_overview.html#loss-estimation">3.7. Loss estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/feature_overview.html#command-line-support">3.8. Command-line support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/feature_overview.html#standalone-tools">3.9. Standalone tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/feature_overview.html#feature-overview-and-examples">3.10. Feature overview and examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/damage_and_loss_library.html">4. Damage and loss library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/bug_reports_and_feature_requests.html">5. Bug reports and feature requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/resources_for_new_python_users.html">6. Resources for new python users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">7. Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/notebooks/example_1.html">7.1. Example 1: Simple loss function.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/notebooks/example_2.html">7.2. Example 2: Damage state validation.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/notebooks/example_3.html">7.3. Example 3: Combining fragility-based damage consequences and loss functions.</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/index.html">8. API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/_autosummary/pelicun.html">8.1. pelicun</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/getting_started.html">1. Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer_guide/getting_started.html#code-of-conduct">1.1. Code of conduct</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer_guide/getting_started.html#how-to-contribute">1.2. How to contribute</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/development_environment.html">2. Setting up a development environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/code_quality.html">3. Coding practice</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer_guide/code_quality.html#code-quality-assurance">3.1. Code quality assurance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer_guide/code_quality.html#unit-tests">3.2. Unit tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer_guide/code_quality.html#documentation">3.3. Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/internals.html">4. Package architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer_guide/internals.html#overview-of-files">4.1. Overview of files</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #F2F2F2" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pelicun</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">5. </span>Release Notes</a></li>
      <li class="breadcrumb-item active">Version 3.4.0 (November 27, 2024)</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="version-3-4-0-november-27-2024">
<span id="changes-v3-4-0"></span><h1>Version 3.4.0 (November 27, 2024)<a class="headerlink" href="#version-3-4-0-november-27-2024" title="Link to this heading"></a></h1>
<section id="added">
<h2>Added<a class="headerlink" href="#added" title="Link to this heading"></a></h2>
<p><strong>Documentation pages</strong>: Documentation for pelicun 3 is back online. The documentation includes guides for users and developers as well as an auto-generated API reference. A lineup of examples is planned to be part of the documentation, highlighting specific features, including the new ones listed in this section.</p>
<p><strong>Consequence scaling</strong>: This feature can be used to apply scaling factors to consequence and loss functions for specific decision variables, component types, locations and directions. This can make it easier to examine several different consequence scaling schemes without the need to repeat all calculations or write extensive custom code.</p>
<p><strong>Capacity scaling</strong>: This feature can be used to modify the median of normal or lognormal fragility functions of specific components. Medians can be scaled by a factor or shifted by adding or subtracting a value.
This can make it easier to use fragility functions that are a function of specific asset features.</p>
<p><strong>Loss functions</strong>: Loss functions are used to estimate losses directly from the demands. The damage and loss models were substantially restructured to facilitate the use of loss functions.</p>
<p><strong>Loss combinations</strong>: Loss combinations allow for the combination of two types of losses using a multi-dimensional lookup table. For example, independently calculated losses from wind and flood can be combined to produce a single loss estimate considering both demands.</p>
<p><strong>Utility demand</strong>: Utility demands are compound demands calculated using a mathematical expression involving other demands. Practical examples include the application of a mathematical expression on a demand before using it to estimate damage, or combining multiple demands with a multivariate expression to generate a combined demand.Such utility demands can be used to implement those multidimensional fragility models that utilize a single, one-dimensional distribution that is defined through a combination of multiple input variables.</p>
<p><strong>Normal distribution with standard deviation</strong>: Added two new variants of “normal” in <code class="docutils literal notranslate"><span class="pre">uq.py</span></code>: <code class="docutils literal notranslate"><span class="pre">normal_COV</span></code> and <code class="docutils literal notranslate"><span class="pre">normal_STD</span></code>. Since the variance of the default normal random variables is currently defined via the coefficient of variation, the new <code class="docutils literal notranslate"><span class="pre">normal_STD</span></code> is required to define a normal random variable with zero mean. <code class="docutils literal notranslate"><span class="pre">normal_COV</span></code> is treated the same way as the default <code class="docutils literal notranslate"><span class="pre">normal</span></code>.</p>
<p><strong>Weibull random variable</strong>: Added a Weibull random variable class in <code class="docutils literal notranslate"><span class="pre">uq.py</span></code>.</p>
<p><strong>New ``DL_calculation.py`` input file options</strong>: We expanded configuration options in the <code class="docutils literal notranslate"><span class="pre">DL_calculation.py</span></code> input file specification. Specifically, we added <code class="docutils literal notranslate"><span class="pre">CustomDLDataFolder</span></code> for specifying additional user-defined components.</p>
<p><strong>Warnings in red</strong>: Added support for colored outputs. In execution environments that support colored outputs, warnings are now shown in red.</p>
<p>Code base related additions, which are not directly implementing new features but are nonetheless enhancing robustness, include the following:
- pelicun-specific warnings with the option to disable them
- a JSON schema for the input file used to configure simulations through <code class="docutils literal notranslate"><span class="pre">DL_calculation.py</span></code>
- addition of type hints in the entire code base
- addition of slots in all classes, preventing on-the-fly definition of new attributes which is prone to bugs</p>
</section>
<section id="changed">
<h2>Changed<a class="headerlink" href="#changed" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Updated random variable class names in <code class="docutils literal notranslate"><span class="pre">uq.py</span></code>.</p></li>
<li><p>Extensive code refactoring for improved organization and to support the new features. We made a good-faith effort to maintain backwards compatibility, and issue helpful warnings to assist migration to the new syntax.</p></li>
<li><p>Moved most of the code in DL_calculation.py to assessment.py and created an assessment class.</p></li>
<li><p>Migrated to Ruff for linting and code formatting. Began using mypy for type checking and codespell for spell checking.</p></li>
</ul>
</section>
<section id="deprecated">
<h2>Deprecated<a class="headerlink" href="#deprecated" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.bldg_repair</span></code> attribute was renamed to <code class="docutils literal notranslate"><span class="pre">.loss</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.repair</span></code> had also been used in the past, please use <code class="docutils literal notranslate"><span class="pre">.loss</span></code> instead.</p></li>
<li><p>In the damage and loss model library, <code class="docutils literal notranslate"><span class="pre">fragility_DB</span></code> was renamed to <code class="docutils literal notranslate"><span class="pre">damage_DB</span></code> and <code class="docutils literal notranslate"><span class="pre">bldg_repair_DB</span></code> was renamed to <code class="docutils literal notranslate"><span class="pre">loss_repair_DB</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">load_damage_model</span></code> was renamed to <code class="docutils literal notranslate"><span class="pre">load_model_parameters</span></code> and the syntax has changed. Please see the applicable warning message when using <code class="docutils literal notranslate"><span class="pre">load_damage_model</span></code> for the updated syntax.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{damage</span> <span class="pre">model}.sample</span></code> was deprecated in favor of <code class="docutils literal notranslate"><span class="pre">{damage</span> <span class="pre">model}.ds_model.sample</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">DMG-</span></code> flag in the loss_map index is no longer required.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BldgRepair</span></code> column is deprecated in favor of <code class="docutils literal notranslate"><span class="pre">Repair</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">load_model</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">load_model_parameters</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{loss</span> <span class="pre">model}.save_sample</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">'{loss</span> <span class="pre">model}.ds_model.save_sample</span></code>. The same applies to <code class="docutils literal notranslate"><span class="pre">load_sample</span></code>.</p></li>
</ul>
</section>
<section id="removed">
<h2>Removed<a class="headerlink" href="#removed" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>No features were removed in this version.</p></li>
<li><p>We suspended the use of flake8 and pylint after adopting the use of ruff.</p></li>
</ul>
</section>
<section id="fixed">
<h2>Fixed<a class="headerlink" href="#fixed" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Fixed a bug affecting the random variable classes, where the anchor random variable was not being correctly set.</p></li>
<li><p>Enforced a value of 1.0 for non-directional multipliers for HAZUS analyses.</p></li>
<li><p>Fixed bug in demand cloning: Previously demand unit data were being left unmodified during demand cloning operations, leading to missing values.</p></li>
<li><p>Reviewed and improved docstrings in the entire code base.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Leland Stanford Junior University and The Regents of the University of California.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-158130480-7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-158130480-7', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>