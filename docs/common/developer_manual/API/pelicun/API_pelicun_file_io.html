

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>2.1.5. pelicun.file_io module &mdash; pelicun  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/sphinxcontrib-images\LightBox2\lightbox2\css\lightbox.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinxcontrib-images\LightBox2\lightbox2\js\jquery-1.11.0.min.js"></script>
        <script src="../../../../_static/sphinxcontrib-images\LightBox2\lightbox2\js\lightbox.min.js"></script>
        <script src="../../../../_static/sphinxcontrib-images\LightBox2\lightbox2-customize\jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="2.1.6. pelicun.model module" href="API_pelicun_model.html" />
    <link rel="prev" title="2.1.4. pelicun.db module" href="API_pelicun_db.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../../../_static/img/SimCenter-Only.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../../../index.html">



  
  <img src="../../../../_static/pelicun-Logo.png" class="logo" alt="Logo"/>

</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../user_manual/about/pelicun/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../front-matter/pelAck.html">2. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../front-matter/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../front-matter/glossary.html">4. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../front-matter/abbreviations.html">5. Abbreviations</a></li>
</ul>
<p class="caption"><span class="caption-text">User Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../user_manual/installation/pelicun/installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_manual/usage/pelicun/usage.html">2. User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_manual/troubleshooting/pelicun/troubleshooting.html">3. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reqments/reqPelicun.html">4. Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_manual/bugs.html">5. Bugs &amp; Feature Requests</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../technical_manual/pelicun/background/background.html">1. Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../technical_manual/pelicun/verification/verification.html">2. Verification</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../coding_style/pelicun/coding_style.html">1. Coding Style</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="API.html">2. API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="API.html#modules">2.1. Modules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="API_pelicun_auto.html">2.1.1. auto</a></li>
<li class="toctree-l3"><a class="reference internal" href="API_pelicun_base.html">2.1.2. base</a></li>
<li class="toctree-l3"><a class="reference internal" href="API_pelicun_control.html">2.1.3. control</a></li>
<li class="toctree-l3"><a class="reference internal" href="API_pelicun_db.html">2.1.4. db</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">2.1.5. file_io</a></li>
<li class="toctree-l3"><a class="reference internal" href="API_pelicun_model.html">2.1.6. model</a></li>
<li class="toctree-l3"><a class="reference internal" href="API_pelicun_uq.html">2.1.7. uq</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">pelicun</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="API.html"><span class="section-number">2. </span>API Documentation</a> &raquo;</li>
        
      <li><span class="section-number">2.1.5. </span>pelicun.file_io module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/common/developer_manual/API/pelicun/API_pelicun_file_io.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pelicun.file_io">
<span id="pelicun-file-io-module"></span><h1><span class="section-number">2.1.5. </span>pelicun.file_io module<a class="headerlink" href="#module-pelicun.file_io" title="Permalink to this headline">¶</a></h1>
<p>This module has classes and methods that handle file input and output.</p>
<p class="rubric">Contents</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pelicun.file_io.read_SimCenter_DL_input" title="pelicun.file_io.read_SimCenter_DL_input"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_SimCenter_DL_input</span></code></a>(input_path[, …])</p></td>
<td><p>Read the damage and loss input information from a json file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pelicun.file_io.read_SimCenter_EDP_input" title="pelicun.file_io.read_SimCenter_EDP_input"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_SimCenter_EDP_input</span></code></a>(input_path[, …])</p></td>
<td><p>Read the EDP input information from a text file with a tabular structure.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pelicun.file_io.read_population_distribution" title="pelicun.file_io.read_population_distribution"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_population_distribution</span></code></a>(path_POP, occupancy)</p></td>
<td><p>Read the population distribution from an external json file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pelicun.file_io.read_component_DL_data" title="pelicun.file_io.read_component_DL_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_component_DL_data</span></code></a>(path_CMP, comp_info)</p></td>
<td><p>Read the damage and loss data for the components of the asset.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_SimCenter_DL_output</span></code>(output_dir, …[, …])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_SimCenter_EDP_output</span></code>(output_dir, …)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_SimCenter_DM_output</span></code>(output_dir, …)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_SimCenter_DV_output</span></code>(output_dir, …)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt id="pelicun.file_io.read_SimCenter_DL_input">
<code class="sig-prename descclassname"><span class="pre">pelicun.file_io.</span></code><code class="sig-name descname"><span class="pre">read_SimCenter_DL_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assessment_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'P58'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/pelicun/file_io.html#read_SimCenter_DL_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pelicun.file_io.read_SimCenter_DL_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the damage and loss input information from a json file.</p>
<p>The SimCenter in the function name refers to having specific fields
available in the file. Such a file is automatically prepared by the
SimCenter PBE Application, but it can also be easily manipulated or created
manually. The accepted input fields are explained in detail in the Input
section of the documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>input_path: string</strong></dt><dd><p>Location of the DL input json file.</p>
</dd>
<dt><strong>assessment_type: {‘P58’, ‘HAZUS_EQ’, ‘HAZUS_HU’}</strong></dt><dd><p>Tailors the warnings and verifications towards the type of assessment.
default: ‘P58’.</p>
</dd>
<dt><strong>verbose: boolean</strong></dt><dd><p>If True, the function echoes the information read from the file. This
can be useful to ensure that the information in the file is properly
read by the method.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>data: dict</dt><dd><p>A dictionary with all the damage and loss data.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pelicun.file_io.read_SimCenter_EDP_input">
<code class="sig-prename descclassname"><span class="pre">pelicun.file_io.</span></code><code class="sig-name descname"><span class="pre">read_SimCenter_EDP_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">EDP_kinds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('PID',</span> <span class="pre">'PFA')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'PFA':</span> <span class="pre">1.0,</span> <span class="pre">'PID':</span> <span class="pre">1.0}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/pelicun/file_io.html#read_SimCenter_EDP_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pelicun.file_io.read_SimCenter_EDP_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the EDP input information from a text file with a tabular structure.</p>
<p>The SimCenter in the function name refers to having specific columns
available in the file. Currently, the expected formatting follows the
output formatting of Dakota that is applied for the dakotaTab.out. When
using pelicun with the PBE Application, such a dakotaTab.out is
automatically generated. The Input section of the documentation provides
more information about the expected formatting of the EDP input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>input_path: string</strong></dt><dd><p>Location of the EDP input file.</p>
</dd>
<dt><strong>EDP_kinds: tuple of strings, default: (‘PID’, ‘PFA’)</strong></dt><dd><p>Collection of the kinds of EDPs in the input file. The default pair of
‘PID’ and ‘PFA’ can be replaced or extended by any other EDPs.</p>
</dd>
<dt><strong>units: dict, default: {‘PID’:1., ‘PFA’:1}</strong></dt><dd><p>Defines the unit conversion that shall be applied to the EDP values.</p>
</dd>
<dt><strong>verbose: boolean</strong></dt><dd><p>If True, the function echoes the information read from the file. This
can be useful to ensure that the information in the file is properly
read by the method.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>data: dict</dt><dd><p>A dictionary with all the EDP data.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pelicun.file_io.read_population_distribution">
<code class="sig-prename descclassname"><span class="pre">pelicun.file_io.</span></code><code class="sig-name descname"><span class="pre">read_population_distribution</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_POP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">occupancy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assessment_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'P58'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/pelicun/file_io.html#read_population_distribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pelicun.file_io.read_population_distribution" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the population distribution from an external json file.</p>
<p>The population distribution is expected in a format used in FEMA P58, but
the list of occupancy categories can be modified and/or extended beyond
those available in that document. The population distributions for the
occupancy categories from FEMA P58 and HAZUS MH are provided with pelicun
in the population.json files in the corresponding folder under resources.</p>
<p>Note: Population distributions in HAZUS do not have a 1:1 mapping to the
occupancy types provided in the Technical Manual. We expect inputs to
follow the naming convention in the HAZUS Technical Manual and convert
those to the broader categories here automatically. During conversion, the
following assumptions are made about the occupancy classes: i) RES classes
are best described as Residential; ii) COM and REL as Commercial; iii) EDU
as Educational; iv) IND and AGR as Industrial; v) Hotels do not have a
matching occupancy class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>path_POP: string</strong></dt><dd><p>Location of the population distribution json file.</p>
</dd>
<dt><strong>occupancy: string</strong></dt><dd><p>Identifies the occupancy category.</p>
</dd>
<dt><strong>assessment_type: {‘P58’, ‘HAZUS_EQ’}</strong></dt><dd><p>Tailors the warnings and verifications towards the type of assessment.
default: ‘P58’.</p>
</dd>
<dt><strong>verbose: boolean</strong></dt><dd><p>If True, the function echoes the information read from the file. This
can be useful to ensure that the information in the file is properly
read by the method.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>data: dict</dt><dd><p>A dictionary with the population distribution data.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pelicun.file_io.read_component_DL_data">
<code class="sig-prename descclassname"><span class="pre">pelicun.file_io.</span></code><code class="sig-name descname"><span class="pre">read_component_DL_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_CMP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assessment_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'P58'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/pelicun/file_io.html#read_component_DL_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pelicun.file_io.read_component_DL_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the damage and loss data for the components of the asset.</p>
<p>DL data for each component is assumed to be stored in a JSON file following
the DL file format specified by SimCenter. The name of the file is the ID
(key) of the component in the comp_info dictionary. Besides the filename,
the comp_info dictionary is also used to get other pieces of data about the
component that is not available in the JSON files. Therefore, the following
attributes need to be provided in the comp_info: [‘quantities’,
‘csg_weights’, ‘dirs’, ‘kind’, ‘distribution’, ‘cov’, ‘unit’, ‘locations’]
Further information about these attributes is available in the Input
section of the documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>path_CMP: string</strong></dt><dd><p>Location of the folder that contains the component data in JSON files.</p>
</dd>
<dt><strong>comp_info: dict</strong></dt><dd><p>Dictionary with additional information about the components.</p>
</dd>
<dt><strong>assessment_type: {‘P58’, ‘HAZUS_EQ’, ‘HAZUS_HU’}</strong></dt><dd><p>Tailors the warnings and verifications towards the type of assessment.
default: ‘P58’.</p>
</dd>
<dt><strong>verbose: boolean</strong></dt><dd><p>If True, the function echoes the information read from the files. This
can be useful to ensure that the information in the files is properly
read by the method.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>data: dict</dt><dd><p>A dictionary with damage and loss data for each component.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright (c) 2018-2021, Leland Stanford Junior University and The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-158130480-7', 'auto');
    
    ga('send', 'pageview');
    </script>

    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    /*
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
    */
</script>


</body>
</html>